import{i,d as e}from"./index-CcQVG4nr.js";const n="journals",s="assignments",c=[{id:"j1",teacherId:"mock-teacher-1",teacherName:"Budi Santoso, S.Pd",className:"X IPA 1",subject:"Matematika Wajib",date:new Date().toISOString().split("T")[0],jamKe:"1-2",materi:"Persamaan Linear Tiga Variabel",catatan:"Siswa antusias, 2 orang izin ke UKS."}],d=[{id:"a1",title:"Latihan Soal SPLTV",description:"Kerjakan LKS Halaman 15 Nomor 1-5.",subject:"Matematika Wajib",className:"X IPA 1",teacherId:"mock-teacher-1",teacherName:"Budi Santoso, S.Pd",dueDate:new Date(Date.now()+864e5*2).toISOString().split("T")[0],status:"Open",priority:"Medium",createdAt:new Date().toISOString()}],m=async a=>{if(i)return c;try{if(!e)throw new Error("Database not initialized");let t=e.collection(n).orderBy("date","desc").limit(50);return a&&(t=t.where("teacherId","==",a)),(await t.get()).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error fetching journals:",t),[]}},S=async a=>{if(!i)try{if(!e)throw new Error("Database not initialized");await e.collection(n).add({...a,createdAt:new Date().toISOString()})}catch(t){throw t}},h=async a=>{if(i)return d;try{if(!e)throw new Error("Database not initialized");let t=e.collection(s).orderBy("dueDate","asc").limit(50);return a&&(t=t.where("className","==",a)),(await t.get()).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error fetching assignments:",t),[]}};export{S as a,h as b,m as g};
